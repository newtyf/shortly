FROM node:18-alpine3.16

WORKDIR /app

COPY . .

RUN npm install

RUN npm run build

ARG HOST
ARG USER
ARG PORT
ARG PASSWORD
ARG DATABASE
ARG PORT

ENV DB_HOST=$HOST
ENV DB_USER=$USER
ENV DB_PORT=$PORT
ENV DB_DATABASE=$DATABASE
ENV DB_PASSWORD=$PASSWORD
ENV PORT=$PORT

EXPOSE 3000

CMD ["npm", "start"]